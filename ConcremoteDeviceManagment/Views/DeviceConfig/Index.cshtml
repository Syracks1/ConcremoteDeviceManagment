@model ConcremoteDeviceManagment.Models.DeviceConfig

@{
    ViewBag.Title = "Create Device";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (HttpContext.Current.User.Identity.IsAuthenticated)
{

    <h2>Create Device</h2>
    using (Html.BeginForm("GetDevice", "Home", FormMethod.Get))
    {
        <fieldset>
            <legend>Device Create</legend>
            <div>
                @Html.DropDownList("SelectedDevice", (SelectList)ViewBag.SelectedDevice, "Selecteer een device", new { @class = "form-control" })
                <br />
            </div>
            <div id="target">
            </div>
            <div id="log">
            </div>
        </fieldset>

        <div class="form-group">
                <form method="POST" action="DeviceSteps.cshtml">
                    <input type="number" name="createAmount" placeholder="Amount" class="form-control" /><br /><br />
                    <input type="submit" value="Submit" class="btn btn-success" />
                </form>
            </div>

        <div>
            <button onclick="location.href='@Url.Action("Index", "DeviceConfig")';return false; " class="btn btn-outline-primary">Back to list</button>
        </div>


    }
}
else
{
    Response.Redirect("~/Account/Login");

}
@*@section Scripts {
        <script>
        $(document).ready(function () {
            $("#SelectedDevice").change(function (e) {
                var DeviceType = { "Device": $(this).val() };
                $.ajax({
                    type: 'get',
                    url: '@Url.Action("CreateDevice")',
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'html',
                    data: { "Device": $(this).val() },
                    success: function (result) {

                        $("#target").html(result);
                    },
                    error: function (ex) {
                        alert("Something is wrong");
                    }
                });

            });

        });
        </script>
    }*@